{% extends "layout/base.html" %}

{% block content %}
  <h1>Ledger</h1>
  <p>From: <span>{{transaction.from_user.name}}</span></p>
  <p>To: <span>{{transaction.to_user.name}}</span></p>

  <div>
    <button>Approve</button>
    <button>Deny</button>
  </div>

  <h2>Votes:</h2>
  <ul>
    {% for vote in transaction.votes %}
    <li>{{vote.voter.name}} : {{'yay' if vote.value > 0 else 'nay'}}</li>
    {% endfor %}
  </ul>
{% endblock %}

{% block scripts %}
<script type="text/javascript">
  const tid = '{{transaction.transaction_id}}';
  const ledger = document.querySelector('.ledger');
  sendQuery(
    ``)
    .then((json) => {

    })
    .catch((json) => {
      console.log(json);
    });

  function formatTimestamp(ts) {
    return new Date(ts).toLocaleString();
  }
</script>
{% endblock %}